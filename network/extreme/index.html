
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../eltex/">
      
      
        <link rel="next" href="../tfortis/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Switch extreme - My Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bcfcd587.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#reset" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="My Docs" class="md-header__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            My Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Switch extreme
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="My Docs" class="md-nav__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    My Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    monitoring
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            monitoring
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/a1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Применение Victoriametrics для мониторинга по SNMP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/a2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Применение Victoriametrics для мониторинга VMware vCenter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/promql_metricql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PromQL, MetricQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/snmp_exporter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vmagent, snmp_exporter (old)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/snmp_exporter_20/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    snmp_exporter 0.20
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/backbox_exporter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vmagent, blackbox_exporter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/telegraf_vmagent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Telegraf vs vmagent
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/telegraf_snmp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Telegraf snmp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/sflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    netflow, sflow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/logs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    logs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    network
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            network
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../errors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interface Errors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../switching/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Switching
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dhcpsnooping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DHCP snooping
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nlb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NLB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tcp_mss/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TCP MSS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../flowcontrol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flowcontrol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../poe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PoE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    СКС
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../distkontrol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Device DistKontrol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../esxi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Esxi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../qos_switch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Switch QoS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vxlan_sw/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Switch list for vxlan
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cisco_sw/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Switch cisco
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nexus3k/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Switch cisco nexus3k
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nexus9k/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Switch cisco nexus9k
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Switch cisco mds
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../juniper_ex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Switch juniper ex
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../huawei/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Switch huawei s57
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eltex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Switch eltex
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Switch extreme
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Switch extreme
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#reset" class="md-nav__link">
    <span class="md-ellipsis">
      reset
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vlan" class="md-nav__link">
    <span class="md-ellipsis">
      vlan
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#erps" class="md-nav__link">
    <span class="md-ellipsis">
      erps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#redundant-port" class="md-nav__link">
    <span class="md-ellipsis">
      redundant port
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mtu" class="md-nav__link">
    <span class="md-ellipsis">
      mtu
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forwarding" class="md-nav__link">
    <span class="md-ellipsis">
      forwarding
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bgp" class="md-nav__link">
    <span class="md-ellipsis">
      bgp
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bgp-policy" class="md-nav__link">
    <span class="md-ellipsis">
      bgp policy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ecmp" class="md-nav__link">
    <span class="md-ellipsis">
      ecmp
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evpn" class="md-nav__link">
    <span class="md-ellipsis">
      evpn
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vxlan-flood-mode" class="md-nav__link">
    <span class="md-ellipsis">
      vxlan flood mode
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#packet-drops" class="md-nav__link">
    <span class="md-ellipsis">
      packet drops
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#edp" class="md-nav__link">
    <span class="md-ellipsis">
      edp
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mac-lock" class="md-nav__link">
    <span class="md-ellipsis">
      mac-lock
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elrp" class="md-nav__link">
    <span class="md-ellipsis">
      elrp
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#passwd" class="md-nav__link">
    <span class="md-ellipsis">
      passwd
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#radius" class="md-nav__link">
    <span class="md-ellipsis">
      radius
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ntp" class="md-nav__link">
    <span class="md-ellipsis">
      ntp
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sntp" class="md-nav__link">
    <span class="md-ellipsis">
      sntp
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ansible" class="md-nav__link">
    <span class="md-ellipsis">
      ansible
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stacking" class="md-nav__link">
    <span class="md-ellipsis">
      stacking
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acl" class="md-nav__link">
    <span class="md-ellipsis">
      acl
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#40g" class="md-nav__link">
    <span class="md-ellipsis">
      40G
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#software-upgrade" class="md-nav__link">
    <span class="md-ellipsis">
      software upgrade
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vlan-translation" class="md-nav__link">
    <span class="md-ellipsis">
      vlan translation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debug" class="md-nav__link">
    <span class="md-ellipsis">
      debug
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tfortis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Switch tfortis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sonic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Switch mellanox sonic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cisco_r/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Router cisco
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../juniper_mx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Router juniper
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vyos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Router vyos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vipnet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FW vipnet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    voip
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            voip
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../voip/softphone/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Softphones
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../voip/freeswitch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Freeswitch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../voip/cisco_e1_gateway/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cisco E1 gateway
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../voip/cisco_gw_cdr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cisco CDR for gateway
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../voip/cisco_cme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cisco CME(CUCME)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../voip/cisco_cor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cisco COR list
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../voip/cisco_cube/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cisco CUBE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../voip/cisco_voip/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cisco voip notes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    work
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            work
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../work/adguardhome/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AdGuardHome
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../work/ansible_ntwrk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ansible for ntwrk
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../work/empty/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Empty, sshpass
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../work/github/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    github
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../work/miniconda/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Miniconda
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../work/mkdocs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mkdocs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../work/molecule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Molecule
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../work/msys2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Msys2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../work/venv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pip, venv
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../work/app_proxy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Proxy for app
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../work/tacacs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tacacs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../work/webtftp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web,tftp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../work/translit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Translit, recode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../work/vim/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vim
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../work/ubuntu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ubuntu
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../work/usbwrite/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    USB writer
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    info
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            info
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../info/mac_info/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mac address
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../info/mail_info/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mail
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../info/www_info/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../info/phone_info/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Phone number
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../info/dns_info/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dns servers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../info/routing_info/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Routing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../info/speedtest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Speed test
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#reset" class="md-nav__link">
    <span class="md-ellipsis">
      reset
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vlan" class="md-nav__link">
    <span class="md-ellipsis">
      vlan
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#erps" class="md-nav__link">
    <span class="md-ellipsis">
      erps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#redundant-port" class="md-nav__link">
    <span class="md-ellipsis">
      redundant port
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mtu" class="md-nav__link">
    <span class="md-ellipsis">
      mtu
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forwarding" class="md-nav__link">
    <span class="md-ellipsis">
      forwarding
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bgp" class="md-nav__link">
    <span class="md-ellipsis">
      bgp
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bgp-policy" class="md-nav__link">
    <span class="md-ellipsis">
      bgp policy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ecmp" class="md-nav__link">
    <span class="md-ellipsis">
      ecmp
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evpn" class="md-nav__link">
    <span class="md-ellipsis">
      evpn
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vxlan-flood-mode" class="md-nav__link">
    <span class="md-ellipsis">
      vxlan flood mode
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#packet-drops" class="md-nav__link">
    <span class="md-ellipsis">
      packet drops
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#edp" class="md-nav__link">
    <span class="md-ellipsis">
      edp
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mac-lock" class="md-nav__link">
    <span class="md-ellipsis">
      mac-lock
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elrp" class="md-nav__link">
    <span class="md-ellipsis">
      elrp
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#passwd" class="md-nav__link">
    <span class="md-ellipsis">
      passwd
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#radius" class="md-nav__link">
    <span class="md-ellipsis">
      radius
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ntp" class="md-nav__link">
    <span class="md-ellipsis">
      ntp
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sntp" class="md-nav__link">
    <span class="md-ellipsis">
      sntp
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ansible" class="md-nav__link">
    <span class="md-ellipsis">
      ansible
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stacking" class="md-nav__link">
    <span class="md-ellipsis">
      stacking
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acl" class="md-nav__link">
    <span class="md-ellipsis">
      acl
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#40g" class="md-nav__link">
    <span class="md-ellipsis">
      40G
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#software-upgrade" class="md-nav__link">
    <span class="md-ellipsis">
      software upgrade
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vlan-translation" class="md-nav__link">
    <span class="md-ellipsis">
      vlan translation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debug" class="md-nav__link">
    <span class="md-ellipsis">
      debug
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Switch extreme</h1>

<p><a href="https://www.extremenetworks.com/support/documentation/">Документация extreme</a> и <a href="https://www.extremenetworks.com/support/documentation/extremexos-30-7/">ExtremeXOS 30.7</a> </p>
<h2 id="reset">reset</h2>
<p>Сбросить конфигурацию. Сразу после ввода команды требуется перезагрузка.</p>
<div class="highlight"><pre><span></span><code>unconfigure switch all
</code></pre></div>
<h2 id="vlan">vlan</h2>
<p>Создать
<div class="highlight"><pre><span></span><code>create vlan myvlan tag 10
</code></pre></div>
Переименовать
<div class="highlight"><pre><span></span><code>configure vlan myvlan name notmyvlan
</code></pre></div>
Добавить в порт нетегированным. untagged по умолчанию
<div class="highlight"><pre><span></span><code>configure vlan myvlan add port 1 [untagged]
</code></pre></div>
Добавить тегированным
<div class="highlight"><pre><span></span><code>configure vlan myvlan add port 1 tagged
</code></pre></div>
Посмотреть в каких портах влан
<div class="highlight"><pre><span></span><code>show vlan myvlan
</code></pre></div>
Посмотреть какие вланы в порту
<div class="highlight"><pre><span></span><code>show port 1 vlan
</code></pre></div></p>
<h2 id="erps">erps</h2>
<p>Прокотол защиты от петель ERPS. Чаcть документации взято с сайта <a href="http://www.h3c.com/en/Support/Resource_Center/Technical_Documents/Home/Switches/00-Public/Configure/Configuration_Guides/H3C_S5560S-EI_S5560S-SI_S5500V3-SI_CG-6W102/10/201909/1227821_294551_0.htm">h3c ERPS configuration</a></p>
<p>Своими словами про обычное кольцо без interconnection nodes:</p>
<ul>
<li>RPL - ring protection links. Это резервная оптика, через которую данные в обычном режиме работы не передаются.</li>
<li>RPL Owner - коммутатор с одной стороны резервного линка.</li>
<li>RPL Neighbor - коммутатор с другого конца резервного линка до RPL owner</li>
<li>Ring node - остальные коммутаторы в кольце. </li>
</ul>
<p>Состояния кольца erps отображается идентично на всех нодах:</p>
<ul>
<li>idle - все работает, резервный линк не используется, т.к. блокируется RPL Neighbor'ом</li>
<li>protected - обрыв линка между нодами, используется линк RPL.</li>
<li>pending - линк восстановлен, но переходное состояние на время заданного таймаута.</li>
</ul>
<p>Как добавить vlan в кольцо</p>
<p>На примере extreme, где есть проверка ввода команд с описанием
<div class="highlight"><pre><span></span><code>extreme # create vlan &quot;v100&quot;
* extreme # configure vlan v100 tag 100
* extreme # configure vlan v100 add ports 1,48 tagged
Make sure v100 is protected by ERPS. Adding ERPS ring ports to a VLAN could cause a loop in the network.
Do you really want to add these ports? (y/N) No
Operation cancelled.
* extreme # configure erps RING add protected vlan v100
Warning: Ring ports already configured are not added to VLAN
</code></pre></div></p>
<p>Т.е. сначала настроить, добавить в protected vlan, а потом прописать в порты кольца. На всех коммутаторах кольца:
<div class="highlight"><pre><span></span><code>extreme # create vlan &quot;v100&quot;
* extreme # configure vlan v100 tag 100
* extreme # configure erps RING add protected vlan v100
Warning: Ring ports already configured are not added to VLAN
</code></pre></div></p>
<p>Добавить в порты на всех коммутаторах кольца. В примере это порты 1 и 48 на всех 4 коммутаторах:
<div class="highlight"><pre><span></span><code>extreme1 # configure vlan v100 add ports 1,48 tagged
extreme2 # configure vlan v100 add ports 1,48 tagged
extreme3 # configure vlan v100 add ports 1,48 tagged
extreme4 # configure vlan v100 add ports 1,48 tagged
</code></pre></div></p>
<p>Сохранить конфигурацию
<div class="highlight"><pre><span></span><code>* extreme1 # save
* extreme2 # save
* extreme3 # save
* extreme4 # save
</code></pre></div></p>
<h2 id="redundant-port">redundant port</h2>
<p>Первый порт активный, второй отключен.
<div class="highlight"><pre><span></span><code>extreme #configure port 1 redundant 2 link off
</code></pre></div></p>
<p>Ниже нет линка с 1 портом, потом 1 порт включается, а 2 автоматом отключается.
<div class="highlight"><pre><span></span><code>extreme # sh ports redundant

Primary: 1,             Redundant: *2,   Link on/off option: OFF
        Flags: (*)Active, (!) Disabled, (g) Load Share Group

extreme # sh ports redundant

Primary: *1,            Redundant: 2,    Link on/off option: OFF
        Flags: (*)Active, (!) Disabled, (g) Load Share Group
</code></pre></div></p>
<h2 id="mtu">mtu</h2>
<div class="highlight"><pre><span></span><code>configure jumbo-frame-size 9216
enable jumbo-frame ports all
configure ip-mtu 9216 vlan p2p
Warning: The IP-MTU size 9216 may be too large for jumbo-frame-size 9216
configure ip-mtu 9194 vlan p2p
</code></pre></div>
<h2 id="forwarding">forwarding</h2>
<div class="highlight"><pre><span></span><code>enable ipforwarding
enable ipforwarding p2p
</code></pre></div>
<h2 id="bgp">bgp</h2>
<p><a href="https://gtacknowledge.extremenetworks.com/articles/How_To/How-to-enable-Bidirectional-Forwarding-Detection-BFD-protection-of-BGP-peering-sessions">How to enable Bidirectional Forwarding Detection (BFD) protection of BGP peering sessions</a>
Настроить bgp, bfd, включить пира.
<div class="highlight"><pre><span></span><code>enable bfd vlan p2p
configure bfd vlan p2p receive-interval 250 transmit-interval 250
</code></pre></div></p>
<p><div class="highlight"><pre><span></span><code>configure bgp AS-number 65010
configure bgp routerid 10.10.10.10
configure bgp maximum-paths 2
configure bgp add network 10.10.10.10/32
configure bgp add network 10.100.0.0/30
configure bgp add network 10.200.0.0/30
create bgp neighbor 10.100.0.1 remote-AS-number 65100
configure bgp neighbor 10.100.0.1 bfd on
enable bgp neighbor 10.100.0.1
create bgp neighbor 10.200.0.1 remote-AS-number 65200
configure bgp neighbor 10.200.0.1 bfd on
enable bgp neighbor 10.200.0.1
configure bgp neighbor 10.100.0.1 next-hop-self
configure bgp neighbor 10.200.0.1 next-hop-self
enable bgp
</code></pre></div>
Смотреть
<div class="highlight"><pre><span></span><code>extreme # show bfd session
Neighbor         Interface      Clients  Detection  Status       VR
=============================================================================
10.100.0.1       p2p_100        -b----     750      Up           VR-Default
10.200.0.1       p2p_200        -b----     750      Up           VR-Default
=============================================================================
Clients Flag: b - BGP, m - MPLS, o - OSPF, s - Static, t - OTM
NOTE: All timers in milliseconds.
</code></pre></div>
Команды для bgp
<div class="highlight"><pre><span></span><code>show bgp neighbor
show bgp neighbor [peer_ip] received-routes all
show bgp neighbor [peer_ip] transmitted-routes all
</code></pre></div></p>
<h2 id="bgp-policy">bgp policy</h2>
<p>Создание политики
<div class="highlight"><pre><span></span><code>edit policy ibgp
</code></pre></div>
Откроется файл в редакторе vi
<div class="highlight"><pre><span></span><code>entry limit {
if match any {
        nlri 10.0.6.0/24;
        nlri 10.0.7.0/24;
} then {
deny;
}
}
entry permit {
if match all {
}
then {
    permit;
}
}
</code></pre></div>
entry - это как term в junos, if = from, then = then. В примере запрет передачи префиксов.
Каждый файл надо проверить
<div class="highlight"><pre><span></span><code>check policy ibgp
</code></pre></div>
Потом применить
<div class="highlight"><pre><span></span><code>configure bgp neighbor 10.0.1.2 route-policy out ibgp
</code></pre></div>
При изменении политики выполнить
<div class="highlight"><pre><span></span><code>refresh policy &quot;ibgp&quot;
</code></pre></div></p>
<h2 id="ecmp">ecmp</h2>
<p>Включить, указав нужный vr
<div class="highlight"><pre><span></span><code>enable iproute sharing vr VR-Default
</code></pre></div></p>
<h2 id="evpn">evpn</h2>
<p>The following are limitations for EVPN:</p>
<ul>
<li>EVPN functionality is not supported between switches running ExtremeXOS 30.2 and switches running earlier ExtremeXOS versions. The earlier versions rely on auto-creation of IBGP peers, which is disabled functionality in ExtremeXOS 30.2. However, the proprietary AFI are supported and can be used to establish tunnels to RTEPs so that native VXLAN functionality using data plane learning functions is supported.</li>
<li>A maximum of 1,024 EVI instances are supported.</li>
<li>IPv6 Type 2 routes are not supported.</li>
<li>Stacking is not supported.</li>
<li>ExtremeXOS only supports asymmetric routing model.</li>
<li>Configuring VMANs as VXLAN tenant VLANs is not supported.</li>
<li>Anycast gateway is not supported.</li>
<li>ExtremeXOS does not advertise default gateway extended community.</li>
<li>Multi-hop BFD is not supported.</li>
<li>Peer-group configuration for L2VPN-EVPN address family is not supported.</li>
<li>If silent hosts are expected, static ARP/FDB should be created on tenant VLANs for these hosts. To configure static ARP entries it is necessary to configure IP address on tenant VLANs.</li>
</ul>
<p>For Type 5 routes, the following are not supported:
* Switching through a VXLAN tunnel to a remote L3 Anycast gateway.
* Default VRs.</p>
<p><a href="https://documentation.extremenetworks.com/exos_30.7/GUID-2E5C4051-51F8-4B1C-B4ED-760D1BB9C494.shtml">EVPN with iBGP Configuration Example</a></p>
<p>Для случая, когда надо только L2 и не нужен mlag</p>
<ul>
<li><code>enable jumbo-frame ports all</code></li>
<li>создать p2p вланы, включить для них bfd</li>
<li>включить ipforwarding и ecmp</li>
<li><code>configure ip-mtu 9194 vlan p2p</code></li>
<li>настроить ospf + bfd</li>
<li>настроить ibgp с capability l2vpn-EVPN</li>
<li>создать влан tenant, ipaddress для него не нужен</li>
<li>отключить igmp snooping для tenant</li>
<li><code>virtual-network local-endpoint ipaddress</code> указать адрес на лупбеке.</li>
<li>добавить tenant в vni</li>
<li><code>configure vlan tenant suppress arp-only</code> только после добавления в vni возможно</li>
<li>добавить tenant в порты</li>
</ul>
<p>Смотреть
<div class="highlight"><pre><span></span><code>show iproute
show ospf neighbor
show bgp neighbor
show bgp evpn evi
show bgp evpn mac
</code></pre></div></p>
<p>Несовместимо с mac-locking
<div class="highlight"><pre><span></span><code>Error: The VLAN cannot be added to the virtual network due to the following incompatibilities:
At least one of the member ports has MAC Locking feature enabled
</code></pre></div></p>
<h2 id="vxlan-flood-mode">vxlan flood mode</h2>
<p>Цитата:</p>
<p>In ExtremeXOS, a virtual network operates in one of the following flood modes:</p>
<ul>
<li>Flood mode standard (default)</li>
<li>Flood mode explicit</li>
</ul>
<p>These modes determine the way the remote endpoints are created/learned, and the way the tenant BUM traffic is handled.</p>
<p>Flood Mode Standard</p>
<p>The remote endpoints dynamically are learned using OSPF VXLAN extensions (see OSPFv2 VXLAN Extensions) or Multiprotocol BGP (MBGP) support for VXLAN (see Multiprotocol Border Gateway Protocol (MBGP) Support for VXLAN). Alternately, remote endpoints can be statically configured and attached to a virtual network using the CLI.
The tenant BUM traffic is head-end replicated to each of the configured/learned remote endpoints on that virtual network.</p>
<p>Flood Mode Explicit</p>
<p>The remote endpoints can only be statically configured by attaching them to BUM FDB entries using the CLI.
The tenant BUM traffic is head-end replicated to each of the configured remote endpoints for the corresponding FDB entry.
By explicitly adding BUM FDB entries, this mode provides flexibility in splitting the BUM entries to individual broadcast, unknown unicast, and unknown multicast entries.</p>
<p>Точка А
<div class="highlight"><pre><span></span><code>create virtual-network &quot;vni2&quot; flooding explicit-remotes
configure virtual-network &quot;vni2&quot; vxlan vni 101
configure virtual-network &quot;vni2&quot; add vlan tenant_a_b
create fdb broadcast vlan tenant_a_b vxlan ipaddress 10.0.0.Б
create fdb unknown-multicast vlan tenant_a_b vxlan ipaddress 10.0.0.Б
create fdb unknown-unicast vlan tenant_a_b vxlan ipaddress 10.0.0.Б
</code></pre></div>
Точка Б
<div class="highlight"><pre><span></span><code>create virtual-network &quot;vni2&quot; flooding explicit-remotes
configure virtual-network &quot;vni2&quot; vxlan vni 101
configure virtual-network &quot;vni2&quot; add vlan tenant_a_b
create fdb broadcast vlan tenant_a_b vxlan ipaddress  10.0.0.А
create fdb unknown-multicast vlan tenant_a_b vxlan ipaddress 10.0.0.А
create fdb unknown-unicast vlan tenant_a_b vxlan ipaddress 10.0.0.А
</code></pre></div></p>
<h2 id="packet-drops">packet drops</h2>
<div class="highlight"><pre><span></span><code>show port congestion
</code></pre></div>
<p><a href="https://gtacknowledge.extremenetworks.com/articles/Solution/Prevent-packet-drops">Prevent packet drops</a></p>
<h2 id="edp">edp</h2>
<p>Помимо cdp и lldp есть протокол edp, который позволяет посмотреть соседей (ports all), а так же список vlan, которые прописаны на удаленном коммутаторе extreme (ports 1 detail).
<div class="highlight"><pre><span></span><code>show edp ports all
show edp ports 1 detail
</code></pre></div></p>
<h2 id="mac-lock">mac-lock</h2>
<p><a href="https://gtacknowledge.extremenetworks.com/articles/How_To/How-to-bind-a-single-mac-address-to-a-port">По инструкции</a> ограничить кол-во мак-адресов на порту, указать статикой нужный</p>
<div class="highlight"><pre><span></span><code>enable mac-locking
enable mac-locking ports 5
configure mac-locking ports 5 first-arrival limit-learning 0
configure mac-locking ports 5 static add station d4:ca:6d:88:f5:50
</code></pre></div>
<h2 id="elrp">elrp</h2>
<p><a href="https://gtacknowledge.extremenetworks.com/articles/How_To/How-to-configure-ELRP-to-disable-ports">По инструкции</a>
Отключить блокировку аплинков ( порт 1 ), включить рассылку фреймов для обнаружение петли в 10 влане</p>
<div class="highlight"><pre><span></span><code>enable elrp-client
configure elrp-client periodic vlan VLAN-10 ports 5 disable-port duration 30
configure elrp-client disable-port exclude 1
</code></pre></div>
<h2 id="passwd">passwd</h2>
<p>Для информации, что подобное настраивается
<div class="highlight"><pre><span></span><code>configure account all password-policy lockout-on-login-failures off
configure account all password-policy char-validation none
configure account all password-policy min-length none
</code></pre></div>
Для смены пароля локального пользователя необходимо знать текущий пароль, либо удалить учетку целиком.
При этом на коммутаторе должна до этого быть как минимум еще одна учетка с административными правами.
<div class="highlight"><pre><span></span><code>extreme# configure account admin
Current user&#39;s password:
New password:
Reenter password:
</code></pre></div></p>
<h2 id="radius">radius</h2>
<p><div class="highlight"><pre><span></span><code>configure radius mgmt-access primary server [radius-ip] 1812 client-ip [my-ip] vr VR-Default
</code></pre></div>
Ввести ключ
<div class="highlight"><pre><span></span><code>configure radius mgmt-access primary shared-secret
Note: Shared secrets created with this version of EXOS are not compatible with EXOS 21.x and earlier.
Secret:
Reenter Secret:
</code></pre></div>
Включить радиус для mgmt-access
<div class="highlight"><pre><span></span><code>enable radius mgmt-access
</code></pre></div></p>
<h2 id="ntp">ntp</h2>
<p>Через какой влан доступен ntp сервер. Проще через все</p>
<div class="highlight"><pre><span></span><code>enable ntp vlan all
configure ntp server add [ntp1-ip] vr VR-Default
configure ntp server add [ntp2-ip] vr VR-Default
</code></pre></div>
<h2 id="sntp">sntp</h2>
<div class="highlight"><pre><span></span><code>configure sntp-client primary [ntp1-ip] vr VR-Default
configure sntp-client secondary [ntp2-ip] vr VR-Default
enable sntp-client
</code></pre></div>
<h2 id="ansible">ansible</h2>
<p><a href="https://docs.ansible.com/ansible/latest/collections/community/network/exos_config_module.html">Manage Extreme Networks EXOS</a></p>
<p>Инвентори файл inventory
<div class="highlight"><pre><span></span><code>[extreme:vars]
ansible_network_os=exos
ansible_become=no
ansible_connection=network_cli
ansible_python_interpreter=~/base/bin/python

[extreme]
extreme_switch1 ansible_host=10.9.8.7
</code></pre></div>
Playbook для проверки разного в качестве примера.
<div class="highlight"><pre><span></span><code><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">must have configuration</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extreme</span>
<span class="w">  </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sntp clinet</span>
<span class="w">      </span><span class="nt">community.network.exos_config</span><span class="p">:</span>
<span class="w">        </span><span class="nt">lines</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">configure sntp-client primary 10.0.0.1 vr VR-Default</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">configure sntp-client secondary 10.0.0.2 vr VR-Default</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">enable sntp-client</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">timezone</span>
<span class="w">      </span><span class="nt">community.network.exos_config</span><span class="p">:</span>
<span class="w">        </span><span class="nt">lines</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">configure timezone name MSK 3 autodst</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Save running to startup when modified</span>
<span class="w">      </span><span class="nt">community.network.exos_config</span><span class="p">:</span>
<span class="w">        </span><span class="nt">save_when</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">changed</span>
</code></pre></div></p>
<p><code>gather_facts: false</code> т.к. если true, то проверяет вланы и тп.</p>
<h2 id="stacking">stacking</h2>
<p><code>disable stacking-support</code> чтоб 2 последние порта 40ge можно использовать было.</p>
<p>Если разбирать стек, то это сбросит свич в дефолт.
<div class="highlight"><pre><span></span><code>disable stacking node-address [node-mac]
reboot node-address [node-mac]
</code></pre></div>
Для 670v с модулем vim4-40g4x понадобилось расконфигурировать стек, чтобы активировать порты.
Т.е. если Yes, а не No как ниже
<div class="highlight"><pre><span></span><code># show stacking-support

Stack    Available Ports
Port    Native  Alternate  Configured  Current
-----   -----------------  ----------  ----------
1       Yes *   47         Native      Native      
2       Yes *   48         Native      Native      
stacking-support:          Enabled     Enabled   
</code></pre></div>
то
<div class="highlight"><pre><span></span><code>unconfigure stacking-support
</code></pre></div></p>
<h2 id="acl">acl</h2>
<p><a href="https://documentation.extremenetworks.com/PDFs/EXOS/ACL_Solutions_Guide.pdf">ACL_Solutions_Guide</a> 
<a href="https://habr.com/ru/company/extremenetworks/blog/486070/">ACL коммутаторов в деталях</a> 
<a href="https://shop.nag.ru/article/spiski-kontrolya-dostupa-v-kommutatorah-extreme">ACL:Списки контроля доступа в коммутаторах Extreme</a></p>
<p>Завершающее правило - permit. Для работы с политиками/acl используется редактор vim, команды для работы с файлами: cp, ls и тп.
<div class="highlight"><pre><span></span><code>vi [filenameIn.pol]
cp [filenameIn.pol] [filenameOut.pol]
</code></pre></div>
Проверить синтаксис. aclname - имя листа без расширения .pol
<div class="highlight"><pre><span></span><code>check policy [aclname]
check policy [aclname] access-list
</code></pre></div></p>
<p>Применить политику/acl на интерфейс
<div class="highlight"><pre><span></span><code>configure access-list [filename1] ports [num] egress
configure access-list [filename2] ports [num] ingress
</code></pre></div>
После исправления уже примененного acl необходимо
<div class="highlight"><pre><span></span><code>refresh policy [aclname]
</code></pre></div>
Смотреть счетчики
<div class="highlight"><pre><span></span><code>sh access-list counter ingress
sh access-list counter egress
</code></pre></div>
Удалить acl с порта
<div class="highlight"><pre><span></span><code>unconfigure access-list [aclname]
</code></pre></div></p>
<h2 id="40g">40G</h2>
<p>В 480g2-48x-4q
<div class="highlight"><pre><span></span><code>configure port 49 partition 1x40G
configure port 52 partition 1x40G
configure port 57 partition 1x40G
configure port 61 partition 1x40G
</code></pre></div></p>
<h2 id="software-upgrade">software upgrade</h2>
<p><a href="https://www.extremenetworks.com/support/compatibility-matrices/sw-release-extremexos-eos/">Рекомендованные версии</a></p>
<p>Вариант скачать с http и после перезагрузить</p>
<div class="highlight"><pre><span></span><code>download url http://[ip-address]/firmware/summitX-16.2.5.4-patch1-29.xos vr &quot;VR-Default&quot; inactive
</code></pre></div>
<p><a href="https://extremeportal.force.com/ExtrArticleDetail?an=000081793">How to upgrade EXOS using SCP</a>
<div class="highlight"><pre><span></span><code>scp2 vr VR-Default user@[ip-address]:firmware/summitX-31.1.1.3-patch1-1.xos summitX-31.1.1.3-patch1-1.xos
</code></pre></div>
Инcталл в primary. Если нужно иное, то параметр в конце добавить.
<div class="highlight"><pre><span></span><code>install image summitX-31.1.1.3-patch1-1.xos
</code></pre></div></p>
<h2 id="vlan-translation">vlan translation</h2>
<p><a href="https://documentation.extremenetworks.com/exos_30.7/GUID-0DE9110F-43DD-435D-A8F0-2294D8A70C29.shtml">Basic VLAN Translation</a>
<div class="highlight"><pre><span></span><code>extreme# configure vlan A vlan-translation add member-vlan B
Error: VLAN translation services can&#39;t be added to virtual-network associated VLAN A
</code></pre></div></p>
<h2 id="debug">debug</h2>
<p>Когда загрузка cpu system выше 20%, тогда проблемы.
Нужен алерт <code>extremeCpuMonitorSystemUtilization1min &gt; 15</code>.</p>
<p>Посмотреть загрузку cpu.
<div class="highlight"><pre><span></span><code>sh cpu-monitoring
</code></pre></div>
Если <code>top</code>, то это extrRx0</p>
<div class="highlight"><pre><span></span><code>debug hal show device port-info system unit 0 | include cpu
</code></pre></div>
<p>Смотреть где больше трафика. Если 0, то это броадкаст или ipv6.
На L3 коммутаторах с evpn будет 3, что значит смотреть fdb и обратить внимание на rt в выводе <code>show bgp evpn evi</code></p>
<div class="highlight"><pre><span></span><code>Queue 0 : Broadcast and IPv6 packets
Queue 1 : sFlow packets
Queue 2 : vMAC destined packets (VRRP MAC and ESRP MAC)
Queue 3 : L3 Miss packets (ARP request not resolved) or L2 Miss packets (Software MAC learning)
Queue 4 : Multicast traffic not hitting hardware ipmc table (224.0.0.0/4 normal IP multicast packets neither IGMP nor PIM)
Queue 5 : ARP reply packets or packets destined for switch itself
Queue 6 : IGMP or PIM packets
Queue 7 : Packets whose TOS field is &quot;0xc0&quot; and Ethertype is &quot;0x0800&quot;, or STP, EAPS, EDP, OSPF packets
</code></pre></div>
<p>Для 0 можно записать пакеты в файл <code>/usr/local/tmp/&lt;date-time&gt;.pcap</code>
<div class="highlight"><pre><span></span><code>debug packet capture on interface Broadcom count 1000
</code></pre></div>
По scp скопировать себе и посмотреть tshark'ом
<div class="highlight"><pre><span></span><code> tshark -r &lt;date-time&gt;_rx_tx.pcap
</code></pre></div>
В нормальном случае там будут только пакеты Extreme-ESRP</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>